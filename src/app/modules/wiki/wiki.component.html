<div #navigation class="d-none d-sm-flex flex-column p-2 border navigation">
  <div class="d-flex flex-column mb-3 navigation-header"
       (click)="selectRoute('home')">
    <img src="assets/img/shadowrun-logo.svg" alt=""/>
    <h5>Shadowrun Genesys</h5>
  </div>
  <div class="d-flex flex-column justify-content-between navigation-content">
    <div class="d-flex flex-column">
      @if (routes(); as routes) {
        @for (key of Object.keys(routes); track key) {
          @if (routes[key]; as route) {
            @if (route.display_name !== '') {
              <a href="javascript:void(0)" [class.selected]="selectedRoute() == key"
                 [style]="route.depth !== undefined && route.depth > 1 ?
                        'margin-left: ' + ((route.depth - 1) * 0.5) + 'rem; '
                        + 'padding-left: ' + (0.5 + 'rem;') : ''">
                <div class="d-flex flex-row justify-content-between">
                  <span (click)="selectedRoute() !== key ? selectRoute(key) : undefined">{{ routes[key].display_name }}</span>
                  @if(route.children) {
                    <!-- TODO Better Navigation -->
                    <!--span>&#9660;</span-->
                  }
                </div></a>
            }
          }
        }
      }
    </div>
    <div class="d-flex flex-column">
      <!-- TODO TBD -->
      <!--a href="javascript:void(0)" (click)="openInNewWindow('character-sheet')">Character Sheet</a-->
      <!--a href="javascript:void(0)" (click)="openInNewWindow('gm-tools')">Gamemasters' Tools</a-->
      <a download="srg_cs.pdf" href="assets/resources/srg_cs.pdf">Download Character Sheet</a>
    </div>
  </div>
</div>
<button #navigationToggler class="d-block d-sm-none p-4 navigation-toggler text-start"
        (click)="toggleNavigation()">
  <span>&#8801;</span>
</button>


<div #main class="d-flex flex-column main p-4"
     (click)="!navigation.classList.contains('d-none') ? toggleNavigation() : undefined">
  <div class="d-flex flex-row main-header">
    <h1>{{ title() }}</h1>
  </div>
  <div #contentWrapper class="content" [innerHTML]="content()"></div>
</div>
